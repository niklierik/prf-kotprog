<h1>Login</h1>
<mat-card class="card">
  <mat-card-content>
    <form class="form" (ngSubmit)="login()">
      <div class="field">
        <mat-form-field>
          <mat-label>E-mail</mat-label>
          <input
            matInput
            type="email"
            [formControl]="email"
            [disabled]="loginResource.isLoading()"
          />
        </mat-form-field>
      </div>
      <div class="field">
        <mat-form-field>
          <mat-label>Password</mat-label>
          <input
            type="password"
            matInput
            [formControl]="password"
            [disabled]="loginResource.isLoading()"
          />
        </mat-form-field>
      </div>
      <div class="field">
        <mat-checkbox [formControl]="storeLogin" class="noselect"
          >Remember me</mat-checkbox
        >
      </div>

      <button
        type="submit"
        mat-raised-button
        [disabled]="!email.valid || !password.valid"
        [disabled]="loginResource.isLoading()"
      >
        Login
      </button>
      @if (loginResource.error()) {
        <p class="error-text">{{ loginResource.error() }}</p>
      }
    </form>
  </mat-card-content>
</mat-card>
